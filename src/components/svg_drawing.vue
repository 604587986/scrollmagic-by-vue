<template>
	<div style="width:100%;height:100%">
		<div class="public-page-header">svg_drawing</div>
		<div class="demo">
			<svg width="350" height="200" xmlns="http://www.w3.org/2000/svg">
				<path
					d="m36.5,33.4375c0,0 1.07612,-0.38268 2,0c1.30656,0.54119 1.1034,2.90633 2,4c2.28588,2.78833 3.45881,3.69344 4,5c0.38268,0.92388 0.61732,1.07612 1,2c0.54119,1.30656 2,2 2,3c0,1 1,1 1,2c0,1 0,2 0,3c0,1 -1,1 -2,1c-2,0 -3,0 -5,0c-2,0 -3,0 -4,0c-1,0 -2,0 -3,0c-2,0 -3,1 -4,1c-1,0 -1,1 -1,2c0,1 -0.38268,2.07612 0,3c0.5412,1.30656 0.69344,2.45881 2,3c0.92388,0.38268 1.69344,1.45881 3,2c0.92388,0.38268 1,1 2,1c1,0 2.29289,0.29289 3,1c0.70711,0.70711 1,1 1,2c0,1 0,3 0,4c0,2 0,3 -1,5c-1,2 -1.85273,3.1731 -3,4c-1.81399,1.30745 -3.45881,1.69344 -4,3c-0.38268,0.92388 -2.77025,3.02675 -3,4c-0.51374,2.17625 -2.48626,2.82375 -3,5c-0.22975,0.97325 -2,3 -2,4c0,2 0.38268,4.07612 0,5c-0.5412,1.30656 -1,2 -1,5c0,1 0,2 0,4c0,1 0.70711,2.29289 0,3c-0.70711,0.70711 -1.38268,-1.07612 -1,-2c0.5412,-1.30656 2.14935,-1.47427 3,-2c1.90211,-1.17557 1.61732,-3.07612 2,-4c0.5412,-1.30656 2.07612,-1.61732 3,-2c1.30656,-0.5412 2.41886,-1.41886 4,-3c1.58114,-1.58114 2.31001,-2.33749 5,-4c1.203,-0.7435 1.69344,-2.4588 3,-3c0.92388,-0.38268 2,-2 3,-3c1,-1 1.45881,-1.69344 2,-3c0.38268,-0.92388 0.61732,-1.07612 1,-2c0.54119,-1.30656 3.38688,-5.91761 6,-7c0.92388,-0.38268 0.61732,-1.07612 1,-2c0.54119,-1.30656 1,-3 1,-5c0,-1 0,-4 0,-6c0,-6 0,-8 0,-10c0,-1 0,-3 0,-4c0,-1 0,-2 0,-3c0,-1 -0.38268,-2.07612 0,-3c0.54119,-1.30656 1,-2 2,-2c1,0 2,0 3,0c1,0 3,0 5,0c2,0 5,0 9,0c5,0 9.90778,-0.49623 14,-1c1.98502,-0.24437 2.82375,-0.48626 5,-1c0.97325,-0.22975 2,0 3,0c1,0 1,1 1,2c0,1 0.30656,3.45881 -1,4c-1.84776,0.76537 -2.70546,1.34619 -5,3c-3.62798,2.6149 -5.797,3.2565 -7,4c-2.68999,1.66251 -3.82375,2.48626 -6,3c-0.97325,0.22975 -1.47427,1.14935 -2,2c-1.17557,1.90211 -5,3 -7,4c-4,2 -8.37201,2.38509 -12,5c-1.14727,0.8269 -2.18601,0.69255 -4,2c-1.14727,0.8269 -2.70711,1.29289 -2,2c0.70711,0.70711 3,0 6,0c3,0 4,0 5,0c1,0 2,0 3,0c1,0 2,0 4,0c1,0 3,0 4,0c1,0 2,0 3,0c1,0 3,0 6,0c2,0 4,0 5,0c2,0 3,0 5,0c1,0 2.29289,0.70711 3,0c0.70711,-0.70711 -0.4588,-1.69344 -1,-3c-0.38268,-0.92388 -0.61732,-1.07612 -1,-2c-0.5412,-1.30656 -2,-2 -2,-3c0,-1 -0.69255,-1.186 -2,-3c-0.8269,-1.14727 -2.1731,-1.85273 -3,-3c-1.30745,-1.81399 -1.85273,-3.1731 -3,-4c-1.814,-1.30745 -3.29289,-2.29289 -4,-3c-0.70711,-0.70711 -0.85273,-2.1731 -2,-3c-1.814,-1.30745 -2.29289,-1.29289 -3,-2c-0.70711,-0.70711 -2,0 -2,1c0,2 0,3 0,7c0,1 0,3 0,5c0,1 0,4 0,6c0,2 0,4 0,5c0,2 0,5 0,7c0,3 0.14805,5.22836 -1,8c-0.5412,1.30656 -0.5405,3.0535 -1,5c-0.51374,2.17625 -1,4 -1,6c0,1 -2,4 -2,6c0,1 -1,2 -1,3c0,1 0,2 -1,2c-1,0 -2.05165,-0.64073 -6,0c-3.12144,0.50654 -8.05165,1.35927 -12,2c-3.12144,0.50654 -4,1 -5,1c-1,0 -2.69344,1.4588 -4,2c-0.92388,0.38268 -2.07612,-0.38268 -3,0c-1.30656,0.5412 -0.30656,0.5412 1,0c0.92388,-0.38268 1.0535,-0.5405 3,-1c2.17625,-0.51374 4,-2 5,-2c1,0 2,0 3,0c1,0 2.07612,0.38268 3,0c1.30656,-0.5412 2,-1 3,-1c1,0 2,0 3,0c1,0 1,-1 2,-1c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 3,-1 4,-1c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 4,0c2,0 3,0 4,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2.02675,0.77025 3,1c2.17625,0.51374 2.69344,1.4588 4,2c0.92388,0.38268 2.07612,0.61732 3,1c1.30656,0.5412 1,2 2,2l1,1l1,1"
					id="wang"
					stroke-width="1.5"
					stroke="#000"
					fill="none"
				/>
				<path
					d="m239.5,28.4375c1,0 1.82375,0.48626 4,1c1.9465,0.45951 3,0 5,0c2,0 3,0 4,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 1.29291,-0.29289 2,-1c0.70709,-0.70711 1.29291,-0.29289 2,-1c0.70709,-0.70711 1.29291,-1.70711 2,-1c0.70709,0.70711 -1,1 -3,2c-2,1 -3.07611,0.61732 -4,1c-1.30655,0.5412 -2,1 -3,1c-1,0 -5.01291,1.83982 -6,2c-3.12144,0.50654 -4.69344,2.45881 -6,3c-0.92387,0.38268 -1.29289,0.29289 -2,1c-1.41422,1.41422 -2.69344,1.45881 -4,2c-0.92387,0.38268 -2.4588,-0.30656 -3,1c-0.38269,0.92388 -0.38687,1.91761 -3,3c-0.92387,0.38268 -1.85274,0.1731 -3,1c-1.814,1.30745 -4.4588,1.69344 -5,3c-0.38269,0.92388 -1.29289,0.29289 -2,1c-1.41422,1.41422 0,3 0,4c0,1 0,3 1,5c1,2 1,3 1,4c0,1 0,2 0,3c0,1 1.4588,2.69344 2,4c0.38269,0.92388 -0.18875,2.58471 -1,2c-2.56537,-1.84901 -1.49345,-4.87856 -2,-8c-0.16019,-0.98709 0,-2 0,-3c0,-1 0,-2 0,-3c0,-1 0,-2 0,-3c0,-1 0,-2 0,-3c0,-1 -0.70711,-2.29289 0,-3c0.70711,-0.70711 2,0 3,0c2,0 3,0 5,0c2,0 4.186,0.30745 6,-1c1.14726,-0.8269 2,-1 3,-1c1,0 4.07613,0.38268 5,0c1.30656,-0.54119 1.82375,-1.48626 4,-2c1.9465,-0.45951 3,0 4,0c1,0 2,0 3,0c1,0 2.02676,0.22975 3,0c2.17624,-0.51374 3,-1 5,-1c1,0 2,0 4,0c3,0 4,0 5,0c1,0 3,2 3,3c0,1 0,3 0,4c0,1 0,3 0,4c0,1 0,4 0,6c0,1 -0.48627,2.82375 -1,5c-0.22977,0.97325 0,4 0,5c0,2 -0.61731,4.07612 -1,5c-0.5412,1.30656 -1,2 -1,3c0,1 -1,1 -2,1c-1,0 -3.71411,-1.21168 -6,-4c-2.68979,-3.28101 -5,-6 -6,-7c-1,-1 -1.69254,-1.186 -3,-3c-0.8269,-1.14727 -3.0979,-2.82443 -5,-4c-0.85065,-0.52573 -3.02675,-1.77025 -4,-2c-2.17625,-0.51374 -3.69344,-2.45881 -5,-3c-1.84776,-0.76537 -4.5412,-0.69344 -4,-2c0.38269,-0.92388 3.69344,-1.45881 5,-2c1.84776,-0.76537 3,-1 4,-1c1,0 2.82375,-0.48626 5,-1c0.97324,-0.22975 2,0 3,0c1,0 2,0 3,0c1,0 2,0 3,0c1,0 1.30746,1.18601 0,3c-0.8269,1.14727 -5.0769,1.73145 -9,3c-5.12395,1.65685 -7.82375,4.48626 -10,5c-0.97325,0.22975 -2.87856,0.49346 -6,1c-2.96126,0.48055 -5.02675,0.77025 -6,1c-2.17625,0.51374 -2,2 -1,2c2,0 4,0 5,0c2,0 3,0 6,0c3,0 6.02675,0.22975 7,0c2.17625,-0.51374 3.69344,-1.45881 5,-2c0.92389,-0.38268 2,0 4,0c1,0 2,0 3,0c2,0 3.29291,0.70711 4,0c0.70709,-0.70711 0,-2 -2,-3c-2,-1 -2.82376,-3.48626 -5,-4c-0.97324,-0.22975 -2.4588,-0.69344 -3,-2c-0.38269,-0.92388 -1.4588,-1.69344 -2,-3c-0.38269,-0.92388 -0.69344,-2.45881 -2,-3c-0.92387,-0.38268 -1.70711,-1.70711 -1,-1c2.12132,2.12132 0,7 0,10c0,2 0,4 0,5c0,2 0,4 0,7c0,1 0.38269,2.07612 0,3c-0.5412,1.30656 -1,2 -1,3c0,1 0,2 0,3c0,1 -1,2 -1,3c0,1 0,2 0,4c0,1 0.38269,2.07612 0,3c-0.5412,1.30656 -1,2 -1,3c0,1 0,2 0,3c0,1 -0.29289,3.29289 -1,4c-0.70711,0.70711 -1,1 -1,2c0,1 -0.4588,1.69344 -1,3c-0.38269,0.92388 -0.69344,2.4588 -2,3c-0.92387,0.38268 -1.07613,0.61732 -2,1c-1.30656,0.5412 -2.82375,2.48626 -5,3c-0.97325,0.22975 -2.69344,1.4588 -4,2c-0.92387,0.38268 -1.29289,0.29289 -2,1c-0.70711,0.70711 -2,0 -4,1c-2,1 -3.02675,0.77025 -4,1c-2.17625,0.51374 -3.01291,0.83982 -4,1c-3.12144,0.50654 -4.02582,1.67963 -6,2c-3.12144,0.50654 -6,2 -7,2c-1,0 -4.0535,0.5405 -6,1c-2.17625,0.51374 -3.0535,0.5405 -5,1c-2.17625,0.51374 -3,1 -5,1c-1,0 -2,0 -3,0c-2,0 -3,0 -4,0c-1,0 -2.29289,-0.29289 -3,-1c-0.70711,-0.70711 -0.4588,-1.69344 -1,-3c-0.38269,-0.92388 -0.22975,-2.02675 0,-3c0.51375,-2.17625 4.15224,-3.23463 6,-4c1.30656,-0.5412 1.87856,-1.49346 5,-2c1.97418,-0.32037 6.02521,0.11866 11,-1c4.02266,-0.90456 9.92767,-3.23174 16,-5c3.95868,-1.15277 10.12872,-0.13065 13,-1c3.45085,-1.04483 9.71201,-3.98163 15,-5c2.94586,-0.56732 3.69344,-0.4588 5,-1c1.84776,-0.76537 6.15225,0.76537 8,0c1.30655,-0.5412 2.02676,-0.77025 3,-1c2.17624,-0.51374 3.69345,-1.4588 5,-2c1.84775,-0.76537 2.69345,-0.4588 4,-1c0.92389,-0.38268 2,0 3,0c1,0 2.69345,0.4588 4,1c1.84775,0.76537 3.82443,-0.90211 5,1c0.52573,0.85065 1.95517,1.54916 3,5c0.57956,1.91418 0,3 0,5c0,1 0,3 0,4c0,1 0,2 0,3c0,1 0,2 0,3c0,1 0,2 0,3c0,2 -1,3 -1,5c0,1 -0.29291,3.29289 -1,4c-0.70709,0.70711 -1,1 -2,1c-1,0 -2,0 -3,0c-1,0 -3,0 -5,0c-1,0 -2.01291,0.16018 -3,0c-3.12143,-0.50654 -3.82376,-2.48626 -6,-3c-0.97324,-0.22975 -2,0 -2,-1c0,-1 -0.29291,-1.29289 -1,-2c-0.70709,-0.70711 -1,-1 -1,-2c0,-1 -1,-1 -1,-2l-1,-1l0,-1"
					id="yong"
					stroke-width="1.5"
					stroke="#000"
					fill="none"
				/>
			</svg>
		</div>
	</div>
</template>
<script>
import { isMobile } from "@/utils";
export default {
	mounted() {
		// init controller
		let controller = new ScrollMagic.Controller();
		this.controller = controller;
		let $wang = document.querySelector("#wang");
		let $yong = document.querySelector("#yong");

		this.prepare($wang,$yong);

		// build tween
		let tween = new TimelineMax()
			.add(
				TweenMax.to($wang, 0.5, {
					strokeDashoffset: 0,
					ease: Linear.easeNone
				})
			)
			.add(
				TweenMax.to($yong, 0.5, {
					strokeDashoffset: 0,
					ease: Linear.easeNone
				})
			) 
			.add(
				TweenMax.to("path", 1, {
					stroke: "#33629c",
					ease: Linear.easeNone
				}),
				0
			); // change color during the whole thing

		// build scene
		let scene = new ScrollMagic.Scene({
			triggerElement: ".demo",
			duration: 200,
			tweenChanges: true
		})
			.setTween(tween)
			.addIndicators() // add indicators (requires plugin)
			.addTo(controller);
	},
	methods: {
		prepare(...args) {
			console.log(args);
			
			for (let i in args) {
				const $el = args[i];
				const lineLength = $el.getTotalLength();
				$el.style.strokeDasharray = lineLength;
				$el.style.strokeDashoffset = lineLength;
			}
		}
	},
	destroyed() {
		this.controller.destroy();
	}
};
</script>

<style lang="less" scoped>
.demo {
	text-align: center;
	min-height: 100vh;
}
path {
	width: 100%;
	height: 100%;
}
</style>
